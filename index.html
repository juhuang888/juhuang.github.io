<!DOCTYPE html>
<html>
<head>
    <title>My GitHub Page</title>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5HF8M3T6');</script>
<!-- End Google Tag Manager -->
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5HF8M3T6"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <p id="key1"></p>
    <p id="key2"></p>

    <script>
        //Assessment 1: Setting up Google Tag Manager
        // 获取 URL 参数
        var urlParams = new URLSearchParams(window.location.search);
        var key1 = urlParams.get('key1');
        var key2 = urlParams.get('key2');

        // 显示参数值
        document.getElementById('key1').textContent = "Key1: " + key1;
        document.getElementById('key2').textContent = "Key2: " + key2;

        //Assessment 2: Javascript tag implementation
        (function(a, b, c, d, e, f, g) {
           e['ire_o'] = c;
           e[c] = e[c] || function() {
              (e[c].a = e[c].a || []).push(arguments);
              };
           f = d.createElement(b);
           g = d.getElementsByTagName(b);
           f.async = 1;
           f.src = a;
           g.parentNode.insertBefore(f, g);
         })(
           'https://utt.impactcdn.com/A2788006-de3d-4011-a57c-c4737e79de0365535.js',
           'script',
           'ire',
           document,
           window
         );
         ire('identify', {
            customerid:"/*INSERT key1*/,
            customeremail:"/*INSERT key2*/
         });


document.addEventListener('DOMContentLoaded', function() {
    // 获取 URL 参数
    var urlParams = new URLSearchParams(window.location.search);
    var key1 = urlParams.get('key1');
    var key2 = urlParams.get('key2');

    // 显示参数值
    document.getElementById('key1').textContent = "Key1: " + key1;
    document.getElementById('key2').textContent = "Key2: " + key2;

    // 创建并加载 JavaScript 标签
    var script = document.createElement('script');
    script.src = 'https://utt.impactcdn.com/A2788006-de3d-4011-a57c-c4737e79de0365535.js?customerid=' + key1 + '&customeremail=' + key2;
    document.head.appendChild(script);
});

    </script>
</body>
</html>
